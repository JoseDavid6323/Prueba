<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guardianes de la Ciudad</title>
    <link rel="icon" href="imagenes/auto.jpg" type="image/x-icon">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Arial',sans-serif;background:linear-gradient(135deg,#20d67bff 0%,#16d164ff 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden}
        .container{width:90%;max-width:800px;background:rgba(255,255,255,0.95);border-radius:20px;box-shadow:0 20px 40px rgba(0,0,0,0.3);overflow:hidden;backdrop-filter:blur(10px)}
        .header{background:linear-gradient(45deg,#1e3c72,#2a5298);color:white;padding:20px;text-align:center}
        .content{padding:40px;min-height:400px}
        .loading-screen{text-align:center}
        .game-logo{font-size:2.5em;color:#1e3c72;margin-bottom:30px;font-weight:bold}
        .progress-container{width:100%;height:20px;background:#e0e0e0;border-radius:10px;overflow:hidden;margin:20px 0}
        .progress-bar{height:100%;background:linear-gradient(45deg,#4CAF50,#45a049);width:0%;transition:width 0.3s ease;position:relative}
        .progress-bar::after{content:'';position:absolute;top:0;left:0;bottom:0;right:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);animation:shine 2s infinite}
        @keyframes shine{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
        .progress-text{font-size:1.2em;color:#333;margin:10px 0}
        .loading-messages{font-style:italic;color:#666;min-height:20px}
        .login-screen,.register-screen{display:none}
        .form-group{margin-bottom:20px;text-align:left}
        .form-group label{display:block;margin-bottom:5px;color:#333;font-weight:bold}
        .form-group input{width:100%;padding:12px;border:2px solid #ddd;border-radius:8px;font-size:16px;transition:border-color 0.3s}
        .form-group input:focus{outline:none;border-color:#1e3c72}
        .btn{background:linear-gradient(45deg,#1e3c72,#2a5298);color:white;border:none;padding:12px 30px;border-radius:8px;cursor:pointer;font-size:16px;margin:10px 5px;transition:transform 0.2s,box-shadow 0.2s}
        .btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,0.3)}
        .btn-secondary{background:linear-gradient(45deg,#666,#888)}
        .lobby-screen{display:none}
        .player-info{background:#f0f0f0;padding:15px;border-radius:10px;margin-bottom:20px}
        .players-list{background:#f8f8f8;border-radius:10px;padding:20px;margin:20px 0;max-height:200px;overflow-y:auto}
        .player-item{display:flex;justify-content:space-between;align-items:center;padding:10px;margin:5px 0;background:white;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,0.1)}
        .player-status{padding:3px 8px;border-radius:12px;font-size:12px;font-weight:bold}
        .status-online{background:#4CAF50;color:white}
        .status-away{background:#FF9800;color:white}
        .status-busy{background:#f44336;color:white}
        .game-modes{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin:20px 0}
        .game-mode{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:20px;border-radius:10px;text-align:center;cursor:pointer;transition:transform 0.2s}
        .game-mode:hover{transform:scale(1.05)}
        .hidden{display:none!important}
        .fade-in{animation:fadeIn 0.5s ease-in}
        @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        .chat-container{background:#f0f0f0;border-radius:10px;padding:15px;margin-top:20px}
        .chat-messages{height:150px;overflow-y:auto;background:white;border-radius:5px;padding:10px;margin-bottom:10px}
        .chat-input{display:flex;gap:10px}
        .chat-input input{flex:1;padding:8px;border:1px solid #ddd;border-radius:5px}
        .message{margin:5px 0;padding:5px;border-radius:3px}
        .message.system{background:#e3f2fd;color:#1976d2;font-style:italic}
        .message.user{background:#f0f0f0}
        .alert{padding:10px;margin:10px 0;border-radius:5px;text-align:center;font-weight:bold}
        .alert-success{background:#d4edda;color:#155724;border:1px solid #c3e6cb}
        .alert-error{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}
        .alert-warning{background:#fff3cd;color:#856404;border:1px solid #ffeaa7}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="header-title">  Guardianes de la Ciudad</h1>
        </div>
        <div class="content">
            <div id="loading-screen" class="loading-screen">
                <div class="game-logo"> GUARDIANES DE LA CIUDAD </div>
                <div class="progress-container"><div class="progress-bar" id="progress-bar"></div></div>
                <div class="progress-text" id="progress-text">Inicializando launcher... 0%</div>
                <div class="loading-messages" id="loading-messages">Preparando archivos del juego...</div>
            </div>

            <div id="login-screen" class="login-screen fade-in">
                <h2 style="text-align:center;margin-bottom:30px;color:#1e3c72;">Iniciar Sesi贸n</h2>
                <div id="login-message"></div>
                <div class="form-group"><label for="username">Usuario:</label><input type="text" id="username"></div>
                <div class="form-group"><label for="password">Contrase帽a:</label><input type="password" id="password"></div>
                <div style="text-align:center;">
                    <button class="btn" onclick="login()">Iniciar Sesi贸n</button>
                    <button class="btn btn-secondary" onclick="showRegister()">Crear Cuenta</button>
                </div>
            </div>

            <div id="register-screen" class="register-screen fade-in">
                <h2 style="text-align:center;margin-bottom:30px;color:#1e3c72;">Crear Cuenta</h2>
                <div id="register-message"></div>
                <div class="form-group"><label>Usuario:</label><input type="text" id="new-username"></div>
                <div class="form-group"><label>Contrase帽a:</label><input type="password" id="new-password"></div>
                <div class="form-group"><label>Confirmar Contrase帽a:</label><input type="password" id="confirm-password"></div>
                <div style="text-align:center;">
                    <button class="btn" onclick="register()">Crear Cuenta</button>
                    <button class="btn btn-secondary" onclick="showLogin()">Volver al Login</button>
                </div>
            </div>
        </div>
    </div>

<script>
let currentUser=null;
const loadingMessages=["Preparando archivos del juego...","Verificando integridad...","Conectando con servidores...","Cargando assets...","Inicializando motor...","Configurando multijugador...","Aplicando updates...","Cargando mapas...","Preparando sonido...","Finalizando carga..."];

window.onload=function(){startGameLoading();}

function startGameLoading(){
    let p=0,m=0;
    const i=setInterval(()=>{
        p+=Math.random()*15+5;
        if(p>=100){
            p=100;clearInterval(i);
            setTimeout(()=>{
                document.getElementById('loading-screen').style.display='none';
                document.getElementById('login-screen').style.display='block';
                document.getElementById('header-title').textContent=' Iniciar Sesi贸n';
            },1000);
        }
        document.getElementById('progress-bar').style.width=p+'%';
        document.getElementById('progress-text').textContent=`Cargando juego... ${Math.floor(p)}%`;
        if(m<loadingMessages.length-1&&p>(m+1)*10){m++;}
        document.getElementById('loading-messages').textContent=loadingMessages[m];
    },300+Math.random()*200);
}

function showRegister(){
    document.getElementById('login-screen').style.display='none';
    document.getElementById('register-screen').style.display='block';
    document.getElementById('header-title').textContent=' Crear Cuenta';
}
function showLogin(){
    document.getElementById('register-screen').style.display='none';
    document.getElementById('login-screen').style.display='block';
    document.getElementById('header-title').textContent=' Iniciar Sesi贸n';
}

function register(){
    const u=document.getElementById('new-username').value.trim(),
          p=document.getElementById('new-password').value,
          c=document.getElementById('confirm-password').value;

    if(!u||!p||!c){alert("Completa todos los campos");return;}
    if(p!==c){alert("Las contrase帽as no coinciden");return;}
    alert("Cuenta creada correctamente. Ahora inicia sesi贸n.");
    showLogin();
}

function login(){
    const u=document.getElementById('username').value.trim(),
          p=document.getElementById('password').value;

    if(!u||!p){alert("Completa usuario y contrase帽a");return;}
    currentUser=u;
    //  Redirige al archivo solicitado
    window.location.href="comienzo/apartado2.html";
}
</script>
</body>
</html>



